// JavaScript source code
$(document).ready(function () {
    /* Add menu items */
    /*Chapter 1*/
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-1\');"> 1.1 - मोक्ष प्राप्ति का उपाय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-2\');"> 1.2 - ﻿सम्यग्दर्शन का लक्षण </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-3\');"> 1.3 - सम्यग्दर्शन के भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-4\');"> 1.4 - सात तत्त्व </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-5\');"> 1.5 - निक्षेपों का कथन </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-6\');"> 1.6 - तत्त्वों को जानने का उपाय</a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-7\');"> 1.7 - तत्त्वों को जानने का अन्य उपाय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-8\');"> 1.8 - जीव आदि को जानने के और भी उपाय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-9\');"> 1.9 - ﻿ज्ञान के भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-10\');"> 1.10 - ज्ञान ही प्रमाण है </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-11\');"> 1.11 - ﻿परोक्ष प्रमाण </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-12\');"> 1.12 - ﻿प्रत्यक्ष प्रमाण ज्ञान </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-13\');"> 1.13 - ﻿परोक्ष प्रमाण के संबंध में विशेष कथन </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-14\');"> 1.14 - मतिज्ञान किससे उत्पन्न होता है? </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-15\');"> 1.15 - मतिज्ञान के भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-16\');"> 1.16 - ﻿अवग्रह आदि ज्ञानों के और भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-17\');"> 1.17 - बहु बहुविध आदि किसके विशेषण हैं? </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-18\');"> 1.18 - ﻿अवग्रह आदि ज्ञान का नियम </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-19\');"> 1.19 - ﻿व्यंजनावग्रह सभी इन्द्रियों से नही होता </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-20\');"> 1.20 - ﻿श्रुतज्ञान का स्वरूप </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-21\');"> 1.21 - अवधिज्ञान के भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-22\');"> 1.22 - ﻿अवधिज्ञान के स्वामी </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-23\');"> 1.23 - मनःपर्यय के भेद </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-24\');"> 1.24 - ﻿मनःपर्यय के दोनो भेदों में विशेषता </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-25\');"> 1.25 - ﻿अवधिज्ञान, मनःपर्यय ज्ञान में अन्तर </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-26\');"> 1.26 - मतिज्ञान और श्रुतज्ञान का विषय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-27\');"> 1.27 - ﻿अवधिज्ञान का विषय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-28\');"> 1.28 - ﻿मनःपर्यय ज्ञान का विषय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-29\');"> 1.29 - ﻿केवल ज्ञान का विषय </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-30\');"> 1.30 - एक साथ कितने ज्ञान संभव? </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-31\');"> 1.31 - ﻿कौन-कौन से ज्ञान मिथ्या भी होते हैं? </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-32\');"> 1.32 - मिथ्यादृष्टि का ज्ञान मिथ्या क्यों? </a></li>')
    $('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=1-33\');"> 1.33 - ﻿नय के भेद </a></li>')

    /*Chapter 2*/
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.1 ﻿- जीव के परिणामों (भावों) के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.2 ﻿- ﻿परिणामों (भावों) के उत्तर-भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.3 ﻿- औपशमिकभाव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.4 ﻿- क्षायिकभाव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.5 ﻿- क्षायोपशमिक भाव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.6 ﻿- औदयिक भाव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.7 ﻿- पारिणामिक भाव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.8 ﻿- जीव का लक्षण </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.9 ﻿- उपयोग के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.10 ﻿- जीव के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.11 ﻿- संसारी जीवों के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.12﻿ - संसारी जीवों के और भी भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.13 ﻿- स्थावर जीवों के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.14 ﻿- त्रस जीवों के भेद </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.15 ﻿- इन्द्रियों की संख्या </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.16 ﻿- इन्द्रियों के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.17 ﻿- द्रव्य-इन्द्रियों का स्वरूप </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.18 ﻿- भाव-इन्द्रियों का स्वरूप </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.19 ﻿- इन्द्रियों के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.20 ﻿- इन्द्रियों के विषय </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.21 ﻿- मन के विषय </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.22 ﻿- स्पर्शन इन्द्रिय के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.23 ﻿- शेष इन्द्रियों के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.24 ﻿- संज्ञी जीव का स्वरूप </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.25 ﻿- विग्रह गति में योग </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.26 ﻿- विग्रह गति में गमन </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.27 ﻿- मुक्त जीव का गमन </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.28 ﻿- विग्रह गति का काल </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.29 ﻿- ऋजु-गति का काल </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.30 ﻿- विग्रह-गति में अनाहारक </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.31 ﻿- जन्म के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.32 ﻿- जन्म-योनि के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.33 ﻿- गर्भ-जन्म के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.34﻿ - ﻿उपपाद-जन्म के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.35 ﻿- सम्मूर्छन-जन्म के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.36 ﻿- शरीर के प्रकार </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.37 ﻿- शरीरों में स्थूलता-सूक्ष्मता </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.38 ﻿- शरीरों के प्रदेश </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.39 ﻿- तैजस-कार्मण शरीरों के प्रदेश </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.40 ﻿- तैजस-कार्मण शरीरों में सूक्ष्मता </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.41 ﻿- तैजस-कार्मण का जीव के साथ सम्बन्ध </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.42 ﻿- दोनों शरीरों के स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.43 ﻿- एक जीव के कितने शरीर सम्भव हैं? </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.44 ﻿- कार्मण शरीर के बारे में विशेष </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.45 ﻿- गर्भज और सम्मूर्छनज का शरीर </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.46 ﻿- उपपाद जन्म के साथ शरीर </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.47 ﻿- वैक्रियक शरीर के अन्य स्वामी </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.48 ﻿- तैजस शरीर की विशेषता </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.49 ﻿- आहारक शरीर का स्वरूप </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.50 ﻿- नारक और संमूर्च्छिन में लिंग </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.51 ﻿- देवों में लिंग </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.52 ﻿- मनुष्य-तिर्यन्चों में लिंग </a></li>')
    $('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=coming\');"> 2.53 ﻿- आयु का अनपवर्तन सम्बन्धी नियम </a></li>')

    //$('#ch2Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=2-2\');"> 2.1 ﻿-  </a></li>')
    /*Chapter 3*/
    //$('#ch1Submenu').append('<li><a href = "#" onclick = "reload(\'?gatha=2-1\');"> 2.1- ﻿Coming soon... </a></li>')
    /*Chapter 4*/
    /*Chapter 5*/
    /*Chapter 6*/
    /*Chapter 7*/
    /*Chapter 8*/
    /*Chapter 9*/
    /*Chapter 10*/

    /* Add constant data divs */
    $('#gContent').append('<div id="coming"></div>')
    $('#gContent').append('<div id="credits"></div>')
    $('#gContent').append('<div id="home"></div>')
    $('#gContent').append('<div id="mangal"></div>')

    var result = get_query();
    /* Add dynamic data divs per requested sutra*/
    $('#gContent').append('<div id="' + result + '"></div>')
    var newUrl = "";
    switch (result) {
        case "home":
            var wurl = window.location.origin + '/tatvarth.html?gatha=' + result + '';
            var message = "*Daily Swadhyay: Tatvarth Sutra Ji*%0a%0a _*आचार्य उमास्वामी विरचित*_%0a*तत्त्वार्थसूत्र*%0a%0a*Ācārya Umāsvāmī’s*%0a*Tattvārthasūtra*%0a----------------------------------%0a%0a*प्रस्तावना*%0a%0aआचार्य उमास्‍वामी कृत मोक्षमार्ग, तत्त्वार्थ दर्शन विषयक 10 अध्‍यायों में सूत्रबद्ध ग्रन्‍थ है। कुल सूत्र 357 हैं। इसी को मोक्षशास्‍त्र भी कहते हैं। दिगम्‍बर व श्‍वेताम्‍बर पंथों दोनों को समान रूप से मान्‍य है। जैन आम्‍नाय में यह सर्व प्रधान सिद्धान्‍त ग्रन्‍थ माना जाता है। जैन दर्शन प्ररूपक होने के कारण यह जैन गीता के रूप में समझा जाता है।%0a%0aइस भावना से प्रेरित होकर की हम सभी श्रावकों को जैन धर्म के मर्म की जानकारी प्राप्त हो, हमने तत्वार्थसूत्र ग्रंथ के सूत्र को अर्थ एवं विशेषार्थ के रूप में यहाँ संयोजित करने का प्रयास किया है | हमने प्रस्तुत अर्थ, ग्रंथों से लिया है | उम्मीद है कि आप सभी लोगों को हमारी ये कोशिश पसंद आएगी एवं आप सभी अपना समय दे कर इसका लाभ उठायेंगे | इस संयोजन में यदि हमसे कोई त्रुटि हुई हो तो कृप्या आप उसे हमें अवश्य बताएँ तो हम उसे सही कर सकें | हम वीर प्रभु से प्रार्थना करते हैं की हम इस कार्य को पूरा कर सकें, इसके लिए आप सभी का सहयोग अपेक्षित है |%0a%0aContinue reading... " + wurl + "";
            newUrl = "https://wa.me/?text=" + message + ""
            $('#awhatsapp').attr("href", newUrl);

        case "mangal":
            if (!newUrl) {
                // newUrl was empty string, false, 0, null, undefined, ...
                var wurl = window.location.origin + '/tatvarth.html?gatha=' + result + '';
                var message = "*Daily Swadhyay: Tatvarth Sutra Ji*%0a%0a _*मंगलाचरण*_%0a----------------------------------%0a%0a*मोक्ष-मार्गस्य नेतारं, भेत्तारं कर्म-भूभृताम्‌।%0aज्ञातारं विश्व - तत्त्वानां, वन्दे तद्गुण - लब्धये॥*%0a%0a*अर्थ:* जो मोक्षमार्ग का प्रवर्तक है, कर्मरूपी पर्वतों का भेदन करने वाला है और समस्त तत्त्वों को जानता है, उसे मैं उन गुणों की प्राप्ति के लिए नमस्कार करता हूँ।%0a%0a*Meaning:* I make obeisance to the Omniscient Lord – the promulgator of the path to liberation, the destroyer of the mountains of karmas, and the knower of the whole of reality – so that I may realize these qualities.%0a%0aContinue reading... " + wurl + "";
                newUrl = "https://wa.me/?text=" + message + ""
                $('#awhatsapp').attr("href", newUrl);
            }

        case "coming":
        case "credits":
            loadContent('tatvarth/' + result + '.html', '#' + result);
            break;
        default:
            loadContent('tatvarth/content.html', '#' + result);
            
            $.getJSON('tatvarth/data/' + result + '.json', function (dt) {
                $('#chapter').html(dt.chapter);
                $('#title').html(dt.title);
                $('#sutra').html(dt.sutra);
                $('#audiosrc').html('<audio controls controlsList="nodownload"><source src="tatvarth/audio/' + dt.audiosrc + '" type="audio/mpeg"></audio><br />उच्चारण - आर्यिका 105 पूर्णमती माता जी के मधुर स्वर में।');
                $('#arth').html('<b><font color=darkmagenta>अर्थ : </font></b>' + dt.arth);
                $('#meaning').html('<b><font color=darkmagenta>Meaning : </font></b>' + dt.meaning);
                $('#vishesharth').html('<p class=\"paragraph\">' + dt.vishesharth + '</p>');
                $('#explanation').html('<p class=\"paragraphE\">' + dt.explanation + '</p>');
                $.each(dt.vidsrc, function (index, value) {
                    $('#vidsrc').append(value);
                });

                var wurl = window.location.origin + '/tatvarth.html?gatha=' + result + '';
                var message = "*Daily Swadhyay: Tatvarth Sutra Ji*%0a%0a _*" + dt.chapter + "*_%0a----------------------------------%0a%0a" + dt.title + "%0a*" + dt.sutra + "*%0a%0a*अर्थ:* " + dt.arth + "%0a%0a*Meaning:* " + dt.meaning + "%0a%0aContinue reading... " + wurl+"";
                newUrl = "https://wa.me/?text=" + message +""
                $('#awhatsapp').attr("href", newUrl);
            });
    }
    
    const gathaArray = result.split("-");
    var prev = gathaArray[0] + '-' + (parseInt(gathaArray[1]) - 1);
    var next = gathaArray[0] + '-' + (parseInt(gathaArray[1]) + 1);

    if (gathaArray[0] == 1) {
        if (gathaArray[0]==1 && gathaArray[1] == 1) {
            prev = 'mangal';
        }
        else if (gathaArray[0] == 1 && gathaArray[1] == 33) {
            next = '2-1';
        }
    }
    else if (gathaArray[0] == 2) {
        if (gathaArray[0] == 2 && gathaArray[1] == 1) {
            prev = '1-33';
        }
        else if (gathaArray[0] == 2 && gathaArray[1] == 53) {
            next = '3-1';
        }
    }
    else if (gathaArray[0] == 3) {
        if (gathaArray[0] == 3 && gathaArray[1] == 1) {
            prev = '2-53';
        }
        else if (gathaArray[0] == 2 && gathaArray[1] == 39) {
            next = '4-1';
        }
    }


    $(document).on("click", "#btnprev", function () {
        reload('?gatha=' + prev + '');
    });
    $(document).on("click", "#btnnext", function () {
        reload('?gatha=' + next +'');
    });

});


function get_query() {
    const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop),
    });
    // Get the value of "gatha" in eg "https://example.com/?some_key=some_value"
    //let value = params.gatha; // "some_value"
    return params.gatha; // "gatha"
}
var reload = function (qs) {
    var url = window.location.origin + '/tatvarth.html' + qs;
    $(location).prop('href', url)
}
var loadContent = function (gatha, section) {
    $(section).load(gatha);
}

function displayTabData(evt, tabId) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).style.display = "block";
    evt.currentTarget.className += " active";
}